<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¦ã‚£ã‚¶ãƒ¼ãƒ‰ - ã‚¢ã‚¸ãƒ£ã‚¤ãƒ« GitHub ã‚¹ã‚¤ãƒ¼ãƒˆ</title>
    <link rel="stylesheet" href="../assets/css/common.css">
    <link rel="stylesheet" href="../assets/css/enhanced-ui.css">
    <style>
        .wizard-container {
            max-width: 800px;
            margin: 0 auto;
        }
        
        .step {
            display: none;
            animation: slideIn 0.3s ease;
        }
        
        .step.active {
            display: block;
        }
        
        .step-indicator {
            display: flex;
            justify-content: center;
            margin-bottom: 40px;
        }
        
        .step-item {
            display: flex;
            align-items: center;
            margin: 0 20px;
        }
        
        .step-number {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--color-bg-secondary);
            color: var(--color-text-secondary);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            margin-right: 12px;
            transition: all var(--transition-fast);
        }
        
        .step-item.active .step-number {
            background: var(--color-primary);
            color: white;
        }
        
        .step-item.completed .step-number {
            background: var(--color-success);
            color: white;
        }
        
        .step-title {
            font-weight: 500;
            color: var(--color-text-secondary);
        }
        
        .step-item.active .step-title {
            color: var(--color-primary);
        }
        
        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .form-section {
            background: var(--color-bg-secondary);
            padding: 20px;
            border-radius: var(--radius-lg);
            margin-bottom: 20px;
        }
        
        .form-section h3 {
            margin: 0 0 16px 0;
            color: var(--color-text-primary);
        }
        
        .wizard-actions {
            display: flex;
            justify-content: space-between;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid var(--color-border);
        }
        
        .output-section {
            background: var(--color-bg-tertiary);
            padding: 20px;
            border-radius: var(--radius-lg);
            margin-top: 20px;
        }
        
        .command-output {
            background: #1a1a1a;
            color: #00ff00;
            padding: 16px;
            border-radius: var(--radius-md);
            font-family: var(--font-mono);
            font-size: 0.9rem;
            overflow-x: auto;
            margin: 10px 0;
        }
        
        .copy-button {
            position: relative;
            float: right;
            margin-top: -50px;
            margin-right: 10px;
            z-index: 1;
        }
        
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
            margin-top: 20px;
        }
        
        .feature-card {
            background: var(--color-bg-primary);
            padding: 16px;
            border-radius: var(--radius-md);
            border: 2px solid transparent;
            cursor: pointer;
            transition: all var(--transition-fast);
        }
        
        .feature-card:hover {
            border-color: var(--color-primary);
        }
        
        .feature-card.selected {
            border-color: var(--color-primary);
            background: rgba(9, 105, 218, 0.05);
        }
        
        .feature-card h4 {
            margin: 0 0 8px 0;
            color: var(--color-text-primary);
        }
        
        .feature-card p {
            margin: 0;
            font-size: 0.875rem;
            color: var(--color-text-secondary);
        }
        
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
    </style>
</head>
<body>
    <div class="container wizard-container">
        <div class="header">
            <h1>ğŸ§™â€â™‚ï¸ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¦ã‚£ã‚¶ãƒ¼ãƒ‰</h1>
            <p>ã‚ãªãŸã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«æœ€é©ãªã‚¢ã‚¸ãƒ£ã‚¤ãƒ«ç’°å¢ƒã‚’5åˆ†ã§ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—</p>
        </div>
        
        <!-- Step Indicator -->
        <div class="step-indicator">
            <div class="step-item active" data-step="1">
                <div class="step-number">1</div>
                <div class="step-title">ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæƒ…å ±</div>
            </div>
            <div class="step-item" data-step="2">
                <div class="step-number">2</div>
                <div class="step-title">ã‚¹ãƒ—ãƒªãƒ³ãƒˆè¨­å®š</div>
            </div>
            <div class="step-item" data-step="3">
                <div class="step-number">3</div>
                <div class="step-title">æ©Ÿèƒ½é¸æŠ</div>
            </div>
            <div class="step-item" data-step="4">
                <div class="step-number">4</div>
                <div class="step-title">ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—å®Ÿè¡Œ</div>
            </div>
        </div>
        
        <!-- Step 1: Project Information -->
        <div class="step active" id="step-1">
            <div class="card">
                <h2>ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæƒ…å ±</h2>
                
                <div class="form-section">
                    <h3>GitHub ãƒªãƒã‚¸ãƒˆãƒª</h3>
                    <div class="form-group">
                        <label for="repo-owner" class="form-label">ã‚ªãƒ¼ã‚¬ãƒ‹ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³/ãƒ¦ãƒ¼ã‚¶ãƒ¼å</label>
                        <input type="text" id="repo-owner" class="form-control" placeholder="your-org" required>
                    </div>
                    <div class="form-group">
                        <label for="repo-name" class="form-label">ãƒªãƒã‚¸ãƒˆãƒªå</label>
                        <input type="text" id="repo-name" class="form-control" placeholder="your-project" required>
                    </div>
                    <div class="form-group">
                        <label for="project-title" class="form-label">ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¡¨ç¤ºå</label>
                        <input type="text" id="project-title" class="form-control" placeholder="ãƒã‚¤ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ">
                    </div>
                </div>
                
                <div class="form-section">
                    <h3>ãƒãƒ¼ãƒ æƒ…å ±</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="team-name" class="form-label">ãƒãƒ¼ãƒ å</label>
                            <input type="text" id="team-name" class="form-control" placeholder="é–‹ç™ºãƒãƒ¼ãƒ ">
                        </div>
                        <div class="form-group">
                            <label for="team-size" class="form-label">ãƒãƒ¼ãƒ è¦æ¨¡</label>
                            <select id="team-size" class="form-control">
                                <option value="1-3">å°è¦æ¨¡ (1-3äºº)</option>
                                <option value="4-8" selected>ä¸­è¦æ¨¡ (4-8äºº)</option>
                                <option value="9-15">å¤§è¦æ¨¡ (9-15äºº)</option>
                                <option value="16+">è¶…å¤§è¦æ¨¡ (16äººä»¥ä¸Š)</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Step 2: Sprint Settings -->
        <div class="step" id="step-2">
            <div class="card">
                <h2>ğŸƒâ€â™‚ï¸ ã‚¹ãƒ—ãƒªãƒ³ãƒˆè¨­å®š</h2>
                
                <div class="form-section">
                    <h3>æœ€åˆã®ã‚¹ãƒ—ãƒªãƒ³ãƒˆ</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="sprint-name" class="form-label">ã‚¹ãƒ—ãƒªãƒ³ãƒˆå</label>
                            <input type="text" id="sprint-name" class="form-control" value="Sprint 1">
                        </div>
                        <div class="form-group">
                            <label for="sprint-duration" class="form-label">æœŸé–“ï¼ˆæ—¥æ•°ï¼‰</label>
                            <select id="sprint-duration" class="form-control">
                                <option value="7">1é€±é–“ (7æ—¥)</option>
                                <option value="10">1.5é€±é–“ (10æ—¥)</option>
                                <option value="14" selected>2é€±é–“ (14æ—¥)</option>
                                <option value="21">3é€±é–“ (21æ—¥)</option>
                                <option value="30">1ãƒ¶æœˆ (30æ—¥)</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="sprint-goal" class="form-label">ã‚¹ãƒ—ãƒªãƒ³ãƒˆã‚´ãƒ¼ãƒ«ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰</label>
                        <textarea id="sprint-goal" class="form-control" rows="2" placeholder="ã“ã®ã‚¹ãƒ—ãƒªãƒ³ãƒˆã§é”æˆã—ãŸã„ç›®æ¨™ã‚’å…¥åŠ›"></textarea>
                    </div>
                </div>
                
                <div class="form-section">
                    <h3>ã‚¹ãƒ—ãƒªãƒ³ãƒˆé‹ç”¨è¨­å®š</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="standup-time" class="form-label">ãƒ‡ã‚¤ãƒªãƒ¼ã‚¹ã‚¿ãƒ³ãƒ‰ã‚¢ãƒƒãƒ—æ™‚é–“</label>
                            <input type="time" id="standup-time" class="form-control" value="09:00">
                        </div>
                        <div class="form-group">
                            <label for="planning-day" class="form-label">ã‚¹ãƒ—ãƒªãƒ³ãƒˆãƒ—ãƒ©ãƒ³ãƒ‹ãƒ³ã‚°æ—¥</label>
                            <select id="planning-day" class="form-control">
                                <option value="monday" selected>æœˆæ›œæ—¥</option>
                                <option value="tuesday">ç«æ›œæ—¥</option>
                                <option value="wednesday">æ°´æ›œæ—¥</option>
                                <option value="thursday">æœ¨æ›œæ—¥</option>
                                <option value="friday">é‡‘æ›œæ—¥</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Step 3: Feature Selection -->
        <div class="step" id="step-3">
            <div class="card">
                <h2>âš¡ æ©Ÿèƒ½é¸æŠ</h2>
                
                <div class="form-section">
                    <h3>åŸºæœ¬æ©Ÿèƒ½ï¼ˆå¿…é ˆï¼‰</h3>
                    <div class="feature-grid">
                        <div class="feature-card selected" data-feature="labels">
                            <h4>ğŸ·ï¸ ãƒ©ãƒ™ãƒ«ã‚·ã‚¹ãƒ†ãƒ </h4>
                            <p>å„ªå…ˆåº¦ãƒ»ç¨®é¡ãƒ»è¦‹ç©ã‚‚ã‚Šãƒ»çŠ¶æ…‹ãƒ©ãƒ™ãƒ«</p>
                        </div>
                        <div class="feature-card selected" data-feature="templates">
                            <h4>ğŸ“‹ Issue ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ</h4>
                            <p>User Storyãƒ»Bug Reportãƒ»Task</p>
                        </div>
                        <div class="feature-card selected" data-feature="milestones">
                            <h4>ğŸ¯ ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³</h4>
                            <p>ã‚¹ãƒ—ãƒªãƒ³ãƒˆæœŸé–“ã¨ã‚´ãƒ¼ãƒ«ç®¡ç†</p>
                        </div>
                    </div>
                </div>
                
                <div class="form-section">
                    <h3>é«˜åº¦ãªæ©Ÿèƒ½ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰</h3>
                    <div class="feature-grid">
                        <div class="feature-card selected" data-feature="burndown">
                            <h4>ğŸ“Š ãƒãƒ¼ãƒ³ãƒ€ã‚¦ãƒ³ãƒãƒ£ãƒ¼ãƒˆ</h4>
                            <p>è‡ªå‹•é€²æ—è¿½è·¡ãƒ»ãƒ™ãƒ­ã‚·ãƒ†ã‚£è¨ˆç®—</p>
                        </div>
                        <div class="feature-card selected" data-feature="dashboard">
                            <h4>ğŸ‘¥ ãƒãƒ¼ãƒ ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰</h4>
                            <p>ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ¡ãƒˆãƒªã‚¯ã‚¹è¡¨ç¤º</p>
                        </div>
                        <div class="feature-card" data-feature="discord">
                            <h4>ğŸ”” Discordé€šçŸ¥</h4>
                            <p>é€²æ—ãƒ»ã‚¢ãƒ©ãƒ¼ãƒˆè‡ªå‹•é€šçŸ¥</p>
                        </div>
                        <div class="feature-card" data-feature="automation">
                            <h4>ğŸ¤– é«˜åº¦ãªè‡ªå‹•åŒ–</h4>
                            <p>ã‚«ã‚¹ã‚¿ãƒ ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãƒ»çµ±åˆ</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Step 4: Setup Execution -->
        <div class="step" id="step-4">
            <div class="card">
                <h2>ğŸš€ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—å®Ÿè¡Œ</h2>
                
                <div class="form-section">
                    <h3>ç”Ÿæˆã•ã‚ŒãŸã‚³ãƒãƒ³ãƒ‰</h3>
                    <p>ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ã€ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§å®Ÿè¡Œã—ã¦ãã ã•ã„ï¼š</p>
                    
                    <div class="command-output" id="generated-command">
                        # ã‚³ãƒãƒ³ãƒ‰ãŒç”Ÿæˆã•ã‚Œã¾ã™...
                    </div>
                    <button class="btn btn--primary copy-button" onclick="copyCommand()">ğŸ“‹ ã‚³ãƒ”ãƒ¼</button>
                </div>
                
                <div class="form-section">
                    <h3>ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—å¾Œã®ç¢ºèªäº‹é …</h3>
                    <div class="alert alert--info">
                        <h4>âœ… å®Œäº†å¾Œã«ãƒã‚§ãƒƒã‚¯:</h4>
                        <ul>
                            <li id="check-pages">GitHub Pages ãŒæœ‰åŠ¹ã«ãªã£ã¦ã„ã‚‹</li>
                            <li id="check-labels">ãƒ©ãƒ™ãƒ«ãŒæ­£ã—ãä½œæˆã•ã‚Œã¦ã„ã‚‹</li>
                            <li id="check-milestone">ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ãŒä½œæˆã•ã‚Œã¦ã„ã‚‹</li>
                            <li id="check-templates">Issue ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒåˆ©ç”¨å¯èƒ½</li>
                            <li id="check-actions">GitHub Actions ãŒå‹•ä½œã—ã¦ã„ã‚‹</li>
                        </ul>
                    </div>
                </div>
                
                <div class="output-section">
                    <h3>ğŸ“Š ã‚ãªãŸã®ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ URLs</h3>
                    <div id="dashboard-urls">
                        <!-- URLsãŒç”Ÿæˆã•ã‚Œã¾ã™ -->
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Navigation -->
        <div class="wizard-actions">
            <button class="btn" id="prev-btn" onclick="prevStep()" style="display: none;">â† å‰ã¸</button>
            <button class="btn btn--primary" id="next-btn" onclick="nextStep()">æ¬¡ã¸ â†’</button>
            <button class="btn btn--primary" id="finish-btn" onclick="finishSetup()" style="display: none;">ğŸ‰ å®Œäº†</button>
        </div>
    </div>
    
    <script src="../assets/js/utils.js"></script>
    <script>
        let currentStep = 1;
        let config = {};
        
        function updateStepIndicator() {
            document.querySelectorAll('.step-item').forEach((item, index) => {
                const stepNum = index + 1;
                if (stepNum < currentStep) {
                    item.classList.add('completed');
                    item.classList.remove('active');
                } else if (stepNum === currentStep) {
                    item.classList.add('active');
                    item.classList.remove('completed');
                } else {
                    item.classList.remove('active', 'completed');
                }
            });
        }
        
        function showStep(step) {
            document.querySelectorAll('.step').forEach(s => s.classList.remove('active'));
            document.getElementById(`step-${step}`).classList.add('active');
            
            // Update navigation buttons
            document.getElementById('prev-btn').style.display = step > 1 ? 'block' : 'none';
            document.getElementById('next-btn').style.display = step < 4 ? 'block' : 'none';
            document.getElementById('finish-btn').style.display = step === 4 ? 'block' : 'none';
            
            updateStepIndicator();
            
            if (step === 4) {
                generateCommand();
                generateUrls();
            }
        }
        
        function nextStep() {
            if (validateCurrentStep()) {
                collectStepData();
                currentStep++;
                showStep(currentStep);
            }
        }
        
        function prevStep() {
            currentStep--;
            showStep(currentStep);
        }
        
        function validateCurrentStep() {
            switch(currentStep) {
                case 1:
                    return document.getElementById('repo-owner').value && 
                           document.getElementById('repo-name').value;
                case 2:
                    return document.getElementById('sprint-name').value;
                case 3:
                    return true; // Features are optional
                default:
                    return true;
            }
        }
        
        function collectStepData() {
            switch(currentStep) {
                case 1:
                    config.repoOwner = document.getElementById('repo-owner').value;
                    config.repoName = document.getElementById('repo-name').value;
                    config.projectTitle = document.getElementById('project-title').value || config.repoName;
                    config.teamName = document.getElementById('team-name').value || 'ãƒãƒ¼ãƒ ';
                    config.teamSize = document.getElementById('team-size').value;
                    break;
                case 2:
                    config.sprintName = document.getElementById('sprint-name').value;
                    config.sprintDuration = document.getElementById('sprint-duration').value;
                    config.sprintGoal = document.getElementById('sprint-goal').value;
                    config.standupTime = document.getElementById('standup-time').value;
                    config.planningDay = document.getElementById('planning-day').value;
                    break;
                case 3:
                    config.features = [];
                    document.querySelectorAll('.feature-card.selected').forEach(card => {
                        config.features.push(card.dataset.feature);
                    });
                    break;
            }
        }
        
        function generateCommand() {
            const repo = `${config.repoOwner}/${config.repoName}`;
            const sprint = config.sprintName;
            const days = config.sprintDuration;
            
            let command = `# ã‚¢ã‚¸ãƒ£ã‚¤ãƒ« GitHub ã‚¹ã‚¤ãƒ¼ãƒˆ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—\n\n`;
            command += `# 1. ãƒªãƒã‚¸ãƒˆãƒªã‚’ã‚¯ãƒ­ãƒ¼ãƒ³\n`;
            command += `git clone https://github.com/pandalize/agile.git\n`;
            command += `cd agile\n\n`;
            command += `# 2. ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¹ã‚¯ãƒªãƒ—ãƒˆå®Ÿè¡Œ\n`;
            command += `./scripts/setup-enhanced.sh -r "${repo}" -s "${sprint}" -d ${days}`;
            
            if (!config.features.includes('templates')) {
                command += ' --skip-issues';
            }
            
            command += `\n\n# 3. GitHub Pages æœ‰åŠ¹åŒ–\n`;
            command += `# ãƒªãƒã‚¸ãƒˆãƒªã® Settings â†’ Pages â†’ Source: Deploy from branch (main, /docs)\n\n`;
            command += `# 4. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæƒ…å ±ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º\n`;
            command += `# docs/assets/js/utils.js ã® REPO_OWNER, REPO_NAME ã‚’æ›´æ–°`;
            
            document.getElementById('generated-command').textContent = command;
        }
        
        function generateUrls() {
            const owner = config.repoOwner;
            const repo = config.repoName;
            
            let urlsHtml = '';
            if (config.features.includes('burndown')) {
                urlsHtml += `<p><strong>ğŸ“Š ãƒãƒ¼ãƒ³ãƒ€ã‚¦ãƒ³ãƒãƒ£ãƒ¼ãƒˆ:</strong><br>`;
                urlsHtml += `<a href="https://${owner}.github.io/${repo}/burndown/" target="_blank">https://${owner}.github.io/${repo}/burndown/</a></p>`;
            }
            
            if (config.features.includes('dashboard')) {
                urlsHtml += `<p><strong>ğŸ‘¥ ãƒãƒ¼ãƒ ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰:</strong><br>`;
                urlsHtml += `<a href="https://${owner}.github.io/${repo}/team-dashboard/" target="_blank">https://${owner}.github.io/${repo}/team-dashboard/</a></p>`;
            }
            
            urlsHtml += `<p><strong>ğŸ“‹ GitHub ãƒªãƒã‚¸ãƒˆãƒª:</strong><br>`;
            urlsHtml += `<a href="https://github.com/${owner}/${repo}" target="_blank">https://github.com/${owner}/${repo}</a></p>`;
            
            document.getElementById('dashboard-urls').innerHTML = urlsHtml;
        }
        
        function copyCommand() {
            const command = document.getElementById('generated-command').textContent;
            navigator.clipboard.writeText(command).then(() => {
                const btn = document.querySelector('.copy-button');
                const originalText = btn.textContent;
                btn.textContent = 'âœ… ã‚³ãƒ”ãƒ¼æ¸ˆã¿';
                setTimeout(() => {
                    btn.textContent = originalText;
                }, 2000);
            });
        }
        
        function finishSetup() {
            window.location.href = '../';
        }
        
        // Feature card selection
        document.addEventListener('DOMContentLoaded', function() {
            document.querySelectorAll('.feature-card').forEach(card => {
                card.addEventListener('click', function() {
                    // Don't allow deselecting required features
                    if (this.dataset.feature === 'labels' || 
                        this.dataset.feature === 'templates' || 
                        this.dataset.feature === 'milestones') {
                        return;
                    }
                    this.classList.toggle('selected');
                });
            });
        });
    </script>
</body>
</html>