# Flutter Hot Reload ガイド

## 🔥 Hot Reload で変更を即座に反映する方法

Flutter では、アプリを再起動せずに変更を反映できる **Hot Reload** と **Hot Restart** 機能があります。

## 使い方

### 方法1: キーボードショートカット（最も簡単）

`flutter run -d chrome` でアプリを起動した後、**ターミナル内で**以下のキーを押します：

| キー | 機能 | 説明 |
|------|------|------|
| **`r`** | Hot Reload | UIの変更を即座に反映（状態を保持） |
| **`R`** (Shift+r) | Hot Restart | アプリを再起動（状態をリセット） |
| `q` | 終了 | アプリを停止 |
| `h` | ヘルプ | 利用可能なコマンド一覧を表示 |

### 方法2: yanwari-start スクリプト使用

```bash
# Hot Reload（変更を即座に反映）
./yanwari-start reload

# Hot Restart（アプリを再起動）
./yanwari-start restart
```

## 📝 具体的な開発フロー

1. **アプリを起動**
   ```bash
   cd mobile
   flutter run -d chrome
   ```

2. **コードを編集**
   - VSCode や任意のエディタで `.dart` ファイルを編集

3. **変更を反映**
   - ターミナルで **`r`キー** を押す
   - 数秒で変更が反映される！

4. **大きな変更の場合**
   - **`R`キー**（Shift+r）で Hot Restart
   - 状態がリセットされるが、より確実に反映

## ⚡ いつ使うべきか？

### Hot Reload（`r`キー）が適している場合：
- UI の微調整（色、サイズ、テキスト変更）
- ウィジェットの追加・削除
- スタイルの変更
- ビルドメソッド内の変更

### Hot Restart（`R`キー）が必要な場合：
- 新しい依存関係の追加
- グローバル変数の変更
- main() 関数の変更
- クラスの階層構造の変更
- Hot Reload でうまく反映されない時

## 🚨 注意点

- **Hot Reload が効かない場合**：
  - エラーがある場合は、まずエラーを修正
  - `initState()` や静的変数の変更は Hot Restart が必要
  - プラットフォーム固有のコード変更は完全な再起動が必要

- **Chrome でのデバッグ**：
  - Chrome のデベロッパーツール（F12）も併用可能
  - ネットワークタブで API 通信を確認できる

## 🎯 効率的な開発のコツ

1. **小さな変更を頻繁に反映**
   - 変更 → `r`キー → 確認 のサイクルを短く

2. **エラーが出たら**
   - エラーを修正 → `r`キーで再試行
   - それでもダメなら `R`キーで Hot Restart

3. **ターミナルは開いたまま**
   - `flutter run` のターミナルは閉じない
   - 別のターミナルタブでその他の作業

これで、`flutter run -d chrome` を何度も実行する必要がなくなります！